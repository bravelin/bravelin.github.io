(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fc363ca"],{"5cc1":function(t,a,e){},"7f36":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page origin-data-page"},[e("Map"),e("div",[e("StatChart"),e("InfoList")],1)],1)},i=[],o=e("eb57"),r=e("0706"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"info-list-wrap plane"},[e("DatePicker",{attrs:{type:"date"},on:{change:t.doDatePickerChange},model:{value:t.currSelectedDate,callback:function(a){t.currSelectedDate=a},expression:"currSelectedDate"}}),e("div",{staticClass:"iconfont"},[t._v("")]),e("vue-scroll",{attrs:{ops:t.scrollOptions}},[e("ul",{staticClass:"list-container"},t._l(t.originDataList,function(a,n){return e("li",{key:n},[e("div",{staticClass:"item-title"},[t._v(t._s(a.date))]),e("ul",t._l(a.list,function(a,n){return e("li",{key:n,staticClass:"sub-item"},[e("div",[t._v(t._s(a.time))]),e("div",[t._v(t._s(a.place))]),e("div",[t._v(t._s(a.tel))])])}),0)])}),0)]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.currSelectedDate,expression:"currSelectedDate"}]},[t._v(t._s(t.currSelectedDate)),e("i",{staticClass:"iconfont",on:{click:t.doClearDate}},[t._v("")])])],1)},l=[],s=e("de57"),u=(e("15fe"),e("ad09"),e("8ac1")),h=e.n(u),d=e("f2de"),f=e("3604"),p=e("f1ed"),g=r["a"].ORIGIN_DATA,m=Object(d["a"])(g).mapState,b={name:"OriginDataInfoList",components:{DatePicker:h.a},computed:Object(s["a"])({},m(["originDataList"])),data:function(){return{currSelectedDate:"",scrollOptions:{vuescroll:{mode:"native",zooming:!1},bar:{background:"rgba(1, 187, 190, 0.7)"}}}},methods:{doDatePickerChange:function(t){var a=this;a.currSelectedDate=Object(p["a"])(t,"yyyy-MM-dd")},doClearDate:function(){var t=this;t.currSelectedDate=""}}},x=b,v=e("25c1"),y=Object(v["a"])(x,c,l,!1,null,null,null);y.options.__file="InfoList.vue";var j=y.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"map-container plane",class:{"full-screen-plane":t.mapFullState}},[e("div",{ref:"map"}),e("i",{staticClass:"iconfont full-icon",domProps:{innerHTML:t._s(t.mapFullState?"&#xe603;":"&#xe754;")},on:{click:t.doSwitchFullState}})])},_=[],O=(e("d85c"),e("cfd2"),e("b4c2"),e("f44b")),S=e("ab58"),A=e("46f1"),k=r["a"].ORIGIN_DATA,I=Object(d["a"])(k).mapState,D="$store.state.".concat(k,".mapFullState"),w={name:"OriginDataMap",computed:Object(s["a"])({},I(["mapFullState"])),watch:Object(O["a"])({},D,function(){var t=this;t.chart&&setTimeout(function(){t.chart.resize()},300)}),data:function(){return{currPlace:"",chart:null}},mounted:function(){var t=this;t.$nextTick(function(){t.init()})},methods:{init:function(){var t=this,a={series:[{type:"effectScatter",coordinateSystem:"geo",showEffectOn:"render",rippleEffect:{period:15,scale:6,brushType:"fill"},hoverAnimation:!0,itemStyle:{normal:{color:"rgba(147, 235, 248, .8)",shadowBlur:10,shadowColor:"#333"}},data:[]}]};S["a"].default.initChinaMap(t.$refs.map,a,function(a,e,n,i){t.chart=i,window.cc=i;var c=t.$store;t.currPlace=e,c.commit("".concat(r["a"].ORIGIN_DATA,"/").concat(o["a"].ORIGIN_DATA_MAP_CHANGE),{label:a,place:e}),c.dispatch("".concat(r["a"].ORIGIN_DATA,"/").concat(o["a"].GET_ORIGIN_COUNT_DATA)),c.dispatch("".concat(r["a"].ORIGIN_DATA,"/").concat(o["a"].GET_ORIGIN_DATA_LIST)),t.$ajax({url:A["a"].getPurchaseMapData.replace("placeName",e)}).then(function(t){if(t&&t.length){var a=t.map(function(t){return{name:t.name,value:[t.geoCoord[0],t.geoCoord[1],t.value]}}),e=i.getOption().series;e[0].data=a,i.setOption({series:e})}})})},doSwitchFullState:function(){var t=this;t.$store.commit("".concat(k,"/").concat(o["a"].ORIGIN_MAP_FULL_STATE_CHANGE))}}},M=w,N=Object(v["a"])(M,C,_,!1,null,null,null);N.options.__file="Map.vue";var T,L=N.exports,z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stat-chart-wrap plane",class:{"full-screen-plane":t.columnChartFullState}},[e("h3",{staticClass:"plane-title"},[t._v(t._s(t.placeName)+"溯源次数统计")]),e("div",{ref:"container",staticClass:"chart-container"}),e("i",{staticClass:"iconfont full-icon",domProps:{innerHTML:t._s(t.columnChartFullState?"&#xe603;":"&#xe754;")},on:{click:t.doSwitchFullState}})])},H=[],B=(e("5830"),e("3c1b"),r["a"].ORIGIN_DATA),G=Object(d["a"])(B).mapState,F="$store.state.".concat(B,".countDatas"),E="$store.state.".concat(B,".columnChartFullState"),R={name:"OriginDataStatChart",computed:Object(s["a"])({},G(["placeName","statCountUnit","countDatas","statCountTimeUnit","columnChartFullState"])),watch:(T={},Object(O["a"])(T,F,function(){this.doInitOrRefreshChart()}),Object(O["a"])(T,E,function(){this.doInitOrRefreshChart()}),T),data:function(){return{container:null,chart:null}},mounted:function(){var t=this;t.$nextTick(function(){t.container=t.$refs.container;var a=t.$store.state[B].countDatas;a.length&&!t.chart&&t.init(a)})},methods:{doInitOrRefreshChart:function(){var t=this,a=t.$store.state[B].countDatas;a&&a.length&&t.container&&(t.chart?t.refresh(a):t.init(a))},init:function(t){var a=this,e=a.container,n=a.handleChartData(t),i=n.titles,o=n.values,r=n.bgData,c={color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{opacity:0}},formatter:function(t){return t[0].axisValue+a.statCountTimeUnit+"<br/>次数："+t[0].data+a.statCountUnit}},legend:{show:!1},grid:{left:"6",right:"10",bottom:"55",top:"10",containLabel:!0,z:22},xAxis:[{type:"category",gridIndex:0,data:i,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#0c3b71"}},axisLabel:{show:!0,color:"#fff",fontSize:12}}],yAxis:[{type:"value",gridIndex:0,splitLine:{show:!1},axisTick:{show:!1},axisLine:{lineStyle:{color:"#0c3b71"}},axisLabel:{color:"#fff",formatter:"{value}",fontSize:12}},{type:"value",gridIndex:0,splitNumber:12,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.0)","rgba(250,250,250,0.05)"]}}}],series:[{name:"次数",type:"bar",barWidth:12,xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{barBorderRadius:20,color:new f["default"].graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#00feff"},{offset:.5,color:"#027eff"},{offset:1,color:"#0286ff"}])}},data:o,zlevel:11},{name:"背景",type:"bar",barWidth:20,xAxisIndex:0,yAxisIndex:1,barGap:"-130%",data:r,itemStyle:{normal:{color:"rgba(255,255,255,0.1)"}},zlevel:9}]};a.chart=f["default"].init(e),a.chart.setOption(c)},refresh:function(t){var a=this,e=a.chart,n=a.handleChartData(t),i=n.titles,o=n.values,r=n.bgData,c=e.getOption(),l=c.series,s=c.xAxis,u=c.yAxis;s[0].data=i,l[0].data=o,l[1].data=r,e.setOption({series:l,yAxis:u,xAxis:s}),setTimeout(function(){e.resize()},10)},handleChartData:function(t){var a=[],e=[],n=[];return t.forEach(function(t){a.push(t.time),e.push(t.data),n.push(100)}),{titles:a,values:e,bgData:n}},doSwitchFullState:function(){var t=this;t.$store.commit("".concat(B,"/").concat(o["a"].ORIGIN_COLUMN_CHART_FULL_STATE_CHANGE))}}},W=R,J=Object(v["a"])(W,z,H,!1,null,null,null);J.options.__file="StatChart.vue";var $=J.exports,P=r["a"].ORIGIN_DATA,Q={name:"OriginDataIndex",components:{InfoList:j,Map:L,StatChart:$},data:function(){return{}},created:function(){var t=this;t.$store.commit(o["a"].SWITCH_LOADING,!1)},activated:function(){var t=this;t.$store.commit(o["a"].SWITCH_LOADING,!1)},beforeDestroy:function(){var t=this.$store;t.commit("".concat(P,"/").concat(o["a"].ORIGIN_COLUMN_CHART_FULL_STATE_CHANGE),!1),t.commit("".concat(P,"/").concat(o["a"].ORIGIN_MAP_FULL_STATE_CHANGE),!1)}},q=Q,U=(e("a399"),Object(v["a"])(q,n,i,!1,null,null,null));U.options.__file="Index.vue";a["default"]=U.exports},8188:function(t,a){a.jsonMap={zhongguo:"data-1528971808162-BkOXf61WX.json",hainan:"data-1528971693521-r18nZaybm.json",xizang:"data-1528970391616-BJeoh2JW7.json",zhejiang:"data-1528970380661-SkH93h1-m.json",yunnan:"data-1528970362114-r1MK321WQ.json",xinjiang:"data-1528970349852-H18u22kWX.json",tianjin:"data-1528970339987-Hk2wnh1ZX.json",sichuan:"data-1528970319531-Hy_8n3y-m.json",shanxi:"data-1528970298351-HyzB32JZ7.json",shangxi:"data-1528970273819-B1cmnnk-Q.json",shanghai:"data-1528970254015-HJLfhnyWX.json",shangdong:"data-1528970240242-Byu-hhybX.json",qinghai:"data-1528970209434-Bytyh3kZ7.json",ningxia:"data-1528970150882-SJJ2j2yWQ.json",neimenggu:"data-1528970102554-HyJKo31bQ.json",liaoning:"data-1528970052404-BJhHihkbQ.json",jilin:"data-1528970024458-rkeEjhy-Q.json",jiangxi:"data-1528969991368-BkkMi31Zm.json",jiangsu:"data-1528969864934-BJ-qchkWQ.json",hunan:"data-1528969831328-Sykuqh1bX.json",hubei:"data-1528969822119-Bk8v93kZ7.json",henan:"data-1528969802719-HyXIqhk-m.json",heilongjiang:"data-1528969789631-ryLHcnJbm.json",hebei:"data-1528969737020-HJWMqhy-Q.json",guizhou:"data-1528969712502-Hy_g92yZQ.json",guangxi:"data-1528969706270-HJMg5hkWQ.json",guangdong:"data-1528969700634-BkT1qn1WQ.json",gansu:"data-1528969694316-BJLkc2yZX.json",chongqing:"data-1528969687660-r1ey9nkbX.json",aomen:"data-1528969612486-rJ4qtnyZm.json",anhui:"data-1528969607452-Hkk5tnJ-Q.json",beijing:"data-1528969604941-Hk6Ytn1WQ.json",fujian:"data-1528969599839-S1OFFn1ZQ.json",xianggang:"data-1528969589857-S1ROthJWm.json"},a.placeMap={"中国":"zhongguo","上海":"shanghai","河北":"hebei","山西":"shangxi","内蒙古":"neimenggu","辽宁":"liaoning","吉林":"jilin","黑龙江":"heilongjiang","江苏":"jiangsu","浙江":"zhejiang","安徽":"anhui","福建":"fujian","江西":"jiangxi","山东":"shangdong","河南":"henan","湖北":"hubei","湖南":"hunan","广东":"guangdong","广西":"guangxi","海南":"hainan","四川":"sichuan","贵州":"guizhou","云南":"yunnan","西藏":"xizang","陕西":"shanxi","甘肃":"gansu","青海":"qinghai","宁夏":"ningxia","新疆":"xinjiang","北京":"beijing","天津":"tianjin","重庆":"chongqing","香港":"xianggang","澳门":"aomen"}},a399:function(t,a,e){"use strict";var n=e("5cc1"),i=e.n(n);i.a},ab58:function(t,a,e){"use strict";var n=e("f360"),i=e.n(n),o=(e("b4c2"),e("d85c"),e("3c1b"),e("5830"),e("90a3"),e("7ad2")),r=e("8188"),c=e("1a1e"),l=e("3604"),s="中国";l.default.extendsMap=function(t,a){var e=this.init(t);e.currMapName="";var n={mapName:"china",goDown:!1,bgColor:"#15467d",activeArea:[],data:[]};a&&(a=this.util.extend(n,a));var i=[a.mapName],u=0,h={leftPlus:90,leftCur:90,left:50,top:160},d={font:'16px "Microsoft YaHei"',textColor:"#eee",lineColor:"#2f90cd"},f={resetOption:function(t,n,o){var c=this.createBreadcrumb(o),l=i.indexOf(o),s=n.graphic.length,h=102;3==o.length&&(h=118),l<0?(n.graphic.push(c),n.graphic[0].children[0].shape.x2=h,n.graphic[0].children[1].shape.x2=h,n.graphic.length>2&&function(){for(var t,e=[],i=0;i<a.data.length;i++)o===a.data[i].city&&a.data[i].forEach(function(a,n){t={city:a.city,name:a.name,value:a.value,crew:a.crew,company:a.company,position:a.position,region:a.region},e.push(t)});null!=e||(n.series[0].data=[])}(),i.push(o),u++):(n.graphic.splice(l+2,s),n.graphic.length<=2&&(n.graphic[0].children[0].shape.x2=44,n.graphic[0].children[1].shape.x2=44),i.splice(l+1,s),u=l),n.geo.map=o,n.geo.zoom=.4,e.clear(),e.setOption(n),this.zoomAnimation(),e.currMapName=o,a.callback(o,r["placeMap"][o],n,e)},createBreadcrumb:function(t){var a={type:"group",id:t,left:100,top:h.top+7,zlevel:0,children:[{type:"text",left:-68,top:"middle",style:{text:"·",textAlign:"center",fill:d.textColor,font:'bold 16px "Microsoft YaHei"'}},{type:"text",left:-52,top:"middle",style:{text:t,textAlign:"center",fill:d.textColor,font:d.font}}]};return a},zoomAnimation:function(){var t=null,a=function a(n){t||(t=n),t+=n,e.setOption({geo:{zoom:t}}),t<1&&window.requestAnimationFrame(function(){a(.2)})};window.requestAnimationFrame(function(){a(.2)})}},p={backgroundColor:a.bgColor,graphic:[{type:"group",left:h.left,top:h.top-5,z:9999,zlevel:0,children:[{type:"line",left:0,top:-38,shape:{x1:0,y1:0,x2:44,y2:0},style:{stroke:d.lineColor,lineWidth:3},z:99999},{type:"line",left:0,top:-5,shape:{x1:0,y1:0,x2:44,y2:0},style:{stroke:d.lineColor,lineWidth:3}}]},{id:i[u],type:"group",left:h.left+6,top:h.top+7,zlevel:0,children:[{type:"text",left:5,top:"middle",style:{text:s,textAlign:"center",fill:d.textColor,font:d.font},onclick:function(){e.currMapName!=s&&f.resetOption(e,p,s)}}]}],geo:{map:a.mapName,roam:!0,zoom:1,zlevel:1,label:{normal:{show:!0,textStyle:{color:"#fff",fontSize:12}},emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"#2f90cd",borderWidth:1,areaColor:"#15467d"},emphasis:{areaColor:"#389BB7",borderWidth:0}},regions:a.activeArea.map(function(t){return"string"!==typeof t?{name:t.name,itemStyle:{normal:{areaColor:t.areaColor||"#389BB7"}},label:{normal:{show:t.showLabel,textStyle:{color:"#fff"}}}}:{name:t,itemStyle:{normal:{borderColor:"#91e6ff",areaColor:"#389BB7"}}}})},series:a.series||[]};return e.setOption(p),e.currMapName=s,a.callback(s,r["placeMap"][s],p,e),e.on("click",function(t){var n=e;a.goDown&&t.name!==n.currMapName&&r["placeMap"][t.name]&&Object(o["a"])({url:c["a"].geoJsonBaseUrl+r["jsonMap"][r["placeMap"][t.name]]}).then(function(a){"FeatureCollection"==a.type?(l.default.registerMap(t.name,a),f.resetOption(n,p,t.name)):(console.log("地图数据加载失败！"),n.currMapName="")})}),e},l.default.initChinaMap=function(t,a,e){Object(o["a"])({url:c["a"].geoJsonBaseUrl+r["jsonMap"][r["placeMap"][s]]}).then(function(n){if("FeatureCollection"==n.type){l.default.registerMap(s,n);var o={bgColor:"transparent",mapName:s,goDown:!0,callback:function(t,a,n,i){e(t,a,n,i)}};a=i()(a||{},o),l.default.extendsMap(t,a)}else console.log("地图数据加载失败！")})},a["a"]=l},bbde:function(t,a,e){var n=e("e912");n(n.S+n.F,"Object",{assign:e("ffb4")})},bdcc:function(t,a,e){e("bbde"),t.exports=e("332a").Object.assign},f360:function(t,a,e){t.exports=e("bdcc")},ffb4:function(t,a,e){"use strict";var n=e("3da1"),i=e("5e49"),o=e("954a"),r=e("5ebf"),c=e("5e8f"),l=Object.assign;t.exports=!l||e("6d03")(function(){var t={},a={},e=Symbol(),n="abcdefghijklmnopqrst";return t[e]=7,n.split("").forEach(function(t){a[t]=t}),7!=l({},t)[e]||Object.keys(l({},a)).join("")!=n})?function(t,a){var e=r(t),l=arguments.length,s=1,u=i.f,h=o.f;while(l>s){var d,f=c(arguments[s++]),p=u?n(f).concat(u(f)):n(f),g=p.length,m=0;while(g>m)h.call(f,d=p[m++])&&(e[d]=f[d])}return e}:l}}]);