(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2917d50"],{2576:function(e,t,a){},"62b6":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page farming-protection-page"},[a("div",{staticClass:"plane"},[e._m(0),a("div",{staticClass:"plane-content padding"},[a("el-row",{staticClass:"search",attrs:{type:"flex"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("VillageTownSelector",{attrs:{"curr-selector":e.villageSelector},on:{change:e.doVillageSelectorChange}}),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}}),a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-search"}},[e._v("搜索")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.protection.loading,expression:"protection.loading"}],attrs:{data:e.protection.dataList,border:"",stripe:"","element-loading-text":"数据加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("el-table-column",{attrs:{label:"序号",width:"90",type:"index",align:"center",index:e.getIndex}}),a("el-table-column",{attrs:{prop:"gardenName",label:"茶园名称"}}),a("el-table-column",{attrs:{prop:"address",label:"茶园基地"}}),a("el-table-column",{attrs:{prop:"time",width:"150",label:"作业时间"}}),a("el-table-column",{attrs:{prop:"workMen",width:"150",label:"作业人"}}),a("el-table-column",{attrs:{prop:"drugsName",width:"150",label:"药品名"}}),a("el-table-column",{attrs:{prop:"dosage",width:"120",label:"用量"}}),a("el-table-column",{attrs:{prop:"type",width:"120",label:"作业方式"}}),a("el-table-column",{attrs:{label:"植保详情",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{on:{click:function(a){return e.showDetail(t.$index,t.row)}}},[e._v("详情")])]}}])})],1),a("el-dialog",{attrs:{title:"种植详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name3,callback:function(t){e.$set(e.form,"name3",t)},expression:"form.name3"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业人","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name1,callback:function(t){e.$set(e.form,"name1",t)},expression:"form.name1"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园基地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶树品种","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植面积","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业方式","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植山场","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"作品图集","label-width":e.formLabelWidth}},e._l(e.form.imgs,function(e){return a("img",{key:e,staticClass:"fertilizerImg",attrs:{src:e}})}),0)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),a("Detail"),a("el-pagination",{attrs:{"current-page":e.currentPage,background:"","page-sizes":[20,40,60,100],"page-size":20,layout:"total, sizes, prev, pager, next",total:40},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plane-title"},[a("h3",[e._v("植保管理")])])}],i=(a("f91a"),a("5fa9")),r=a.n(i),n=a("d4fd"),s=a("a98d"),c=a("eb57"),d=a("84c8"),m=a("0706"),p=a("52c1"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"茶园详情",visible:e.detailFormVisible},on:{close:e.doClose}},[a("el-form",{attrs:{model:e.protection.detail,"label-width":"85px","label-position":"right"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园名称："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.gardenName,callback:function(t){e.$set(e.protection.detail,"gardenName",t)},expression:"protection.detail.gardenName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业人："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.owner,callback:function(t){e.$set(e.protection.detail,"owner",t)},expression:"protection.detail.owner"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园基地："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.address,callback:function(t){e.$set(e.protection.detail,"address",t)},expression:"protection.detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.tel,callback:function(t){e.$set(e.protection.detail,"tel",t)},expression:"protection.detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶叶品种："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.address,callback:function(t){e.$set(e.protection.detail,"address",t)},expression:"protection.detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业时间："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.tel,callback:function(t){e.$set(e.protection.detail,"tel",t)},expression:"protection.detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植面积："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.address,callback:function(t){e.$set(e.protection.detail,"address",t)},expression:"protection.detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业方式："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.tel,callback:function(t){e.$set(e.protection.detail,"tel",t)},expression:"protection.detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植山场："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.protection.detail.address,callback:function(t){e.$set(e.protection.detail,"address",t)},expression:"protection.detail.address"}})],1)],1)],1),a("el-upload",{staticClass:"disable-upload",attrs:{action:e.uploadAction,disabled:!0,"file-list":e.protection.detail.imgs,"list-type":"picture-card","on-preview":e.doPreview}},[a("i",{staticClass:"el-icon-plus"})])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.doCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doConfirm}},[e._v("确 定")])],1)],1),a("Preview",{attrs:{"is-show":e.showPreview,list:e.previewList,index:e.previewIndex},on:{"update:isShow":function(t){e.showPreview=t},"update:is-show":function(t){e.showPreview=t}}})],1)},f=[],b=a("7ffc"),h=m["a"].FARMING,g=Object(p["a"])(h).mapState,v="$store.state.".concat(h,".protection.detail.imgs"),w={name:"farmProtection-detail",components:{Preview:b["a"]},computed:Object(s["a"])({},g(["protection","detailFormVisible"])),created:function(){console.log(this.protection),console.log(this.detailFormVisible)},watch:Object(n["a"])({},v,function(){this.refreshPics()}),data:function(){return{disabledStatus:!0,uploadAction:"/api/upload",showPreview:!1,previewList:[],previewIndex:0,pics:[]}},methods:{doCancel:function(){var e=this;e.doClose()},doConfirm:function(){var e=this;e.doClose()},refreshPics:function(){var e=this;e.pics=this.protection.detail.imgs,e.previewList=[],e.getImageSize(0)},doPreview:function(e){var t=this;t.previewIndex=0,console.log("that.previewList......",t.previewList);for(var a=0;a<t.previewList.length;a++)if(t.previewList[a].src==e.url){t.previewIndex=a;break}t.showPreview=!0},getImageSize:function(e){var t=this,a=t.pics[e],l=new Image;l.onload=function(){t.previewList.push({src:a.url,w:this.width,h:this.height}),e<t.pics.length-1&&t.getImageSize(e+1)},l.src=a.url},doClose:function(){this.$store.commit(h+"/"+c["a"].TECHNOLOGY_SWITCH_DETAIL_DIALOG,!1)}}},x=w,k=(a("8413"),a("17cc")),C=Object(k["a"])(x,u,f,!1,null,null,null),$=C.exports,S=m["a"].FARMING,L=Object(p["a"])(S).mapState,_="$store.state.".concat(S,".protection.dataList"),I={name:"farming-protection-page",components:{VillageTownSelector:d["a"],Detail:$},computed:Object(s["a"])({},L(["protection"])),watch:Object(n["a"])({},_,function(){this.refreshUrl()}),data:function(){return{searchValue:"",selectValue:"",options:["顺安镇","和平镇"],timeValue:"",dialogFormVisible:!1,formLabelWidth:"120px",form:{},loading:"数据加载中...",villageSelector:[],currentPage:1}},created:function(){this.$store.commit(c["a"].SWITCH_LOADING,!1);var e=this,t=e.$store,a=e.$route,l=a.query,o={};o.currentPage=r()(l.page||1),o.currentPageSize=r()(l.size||20),t.dispatch(S+"/"+c["a"].FARMING_GET_PROTECTION_DATA,o)},methods:{showDetail:function(e,t){console.log(789),this.$store.dispatch(S+"/"+c["a"].FARMING_GET_PROTECTIONDETAIL_DATA),console.log(this.protection)},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))},getIndex:function(e){return e+1},doVillageSelectorChange:function(){},refreshUrl:function(){var e=this;e.$router.replace({name:"farming-protection",query:{page:e.protection.currentPage,size:e.protection.currentPageSize}})}}},V=I,P=(a("9a03"),Object(k["a"])(V,l,o,!1,null,null,null));t["default"]=P.exports},8413:function(e,t,a){"use strict";var l=a("2576"),o=a.n(l);o.a},"9a03":function(e,t,a){"use strict";var l=a("b32d"),o=a.n(l);o.a},b32d:function(e,t,a){}}]);