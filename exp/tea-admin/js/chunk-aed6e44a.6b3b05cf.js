(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aed6e44a"],{"0095":function(e,t,a){"use strict";var l=a("50fa"),i=a.n(l);i.a},"50fa":function(e,t,a){},"5f68":function(e,t,a){},bd3b:function(e,t,a){"use strict";var l=a("5f68"),i=a.n(l);i.a},c457:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page farming-plant-page "},[a("div",{staticClass:"plane"},[e._m(0),a("div",{staticClass:"plane-content padding"},[a("el-row",{staticClass:"search",attrs:{type:"flex"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("VillageTownSelector",{attrs:{"curr-selector":e.villageSelector},on:{change:e.doVillageSelectorChange}}),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"}},[e._v("搜索")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.plant.loading,expression:"plant.loading"}],attrs:{data:e.plant.dataList,border:"",stripe:"","element-loading-text":"数据加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("el-table-column",{attrs:{label:"序号",width:"90",type:"index",align:"center",index:e.getIndex}}),a("el-table-column",{attrs:{prop:"gardenName",label:"茶园名称"}}),a("el-table-column",{attrs:{prop:"address",label:"茶园基地"}}),a("el-table-column",{attrs:{prop:"time",width:"150",label:"作业时间"}}),a("el-table-column",{attrs:{prop:"workMen",width:"150",label:"作业人"}}),a("el-table-column",{attrs:{prop:"plantType",width:"150",label:"作业品种"}}),a("el-table-column",{attrs:{prop:"type",width:"120",label:"作业方式"}}),a("el-table-column",{attrs:{label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{on:{click:function(a){return e.showDetail(t.$index,t.row)}}},[e._v("详情")])]}}])})],1),a("el-dialog",{attrs:{title:"种植详情",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name3,callback:function(t){e.$set(e.form,"name3",t)},expression:"form.name3"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业人","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name1,callback:function(t){e.$set(e.form,"name1",t)},expression:"form.name1"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园基地","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶树品种","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业时间","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植面积","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业方式","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植山场","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name2,callback:function(t){e.$set(e.form,"name2",t)},expression:"form.name2"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"作品图集","label-width":e.formLabelWidth}},e._l(e.form.imgs,function(e){return a("img",{key:e,staticClass:"fertilizerImg",attrs:{src:e}})}),0)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1),a("Detail"),a("el-pagination",{attrs:{"current-page":e.currentPage,background:"","page-sizes":[20,40,60,100],"page-size":20,layout:"total, sizes, prev, pager, next",total:e.plant.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plane-title"},[a("h3",[e._v("种植管理")])])}],n=(a("f91a"),a("5fa9")),o=a.n(n),s=a("d4fd"),r=a("a98d"),c=a("eb57"),d=a("84c8"),m=a("0706"),p=a("52c1"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"茶园详情",visible:e.detailFormVisible},on:{close:e.doClose}},[a("el-form",{attrs:{model:e.plant.detail,"label-width":"85px","label-position":"right"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园名称："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.gardenName,callback:function(t){e.$set(e.plant.detail,"gardenName",t)},expression:"plant.detail.gardenName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业人："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.owner,callback:function(t){e.$set(e.plant.detail,"owner",t)},expression:"plant.detail.owner"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园基地："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.address,callback:function(t){e.$set(e.plant.detail,"address",t)},expression:"plant.detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.tel,callback:function(t){e.$set(e.plant.detail,"tel",t)},expression:"plant.detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶叶品种："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.address,callback:function(t){e.$set(e.plant.detail,"address",t)},expression:"plant.detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业时间："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.tel,callback:function(t){e.$set(e.plant.detail,"tel",t)},expression:"plant.detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植面积："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.address,callback:function(t){e.$set(e.plant.detail,"address",t)},expression:"plant.detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业方式："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.tel,callback:function(t){e.$set(e.plant.detail,"tel",t)},expression:"plant.detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"种植山场："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.plant.detail.address,callback:function(t){e.$set(e.plant.detail,"address",t)},expression:"plant.detail.address"}})],1)],1)],1),a("el-upload",{staticClass:"disable-upload",attrs:{action:e.uploadAction,disabled:!0,"file-list":e.plant.detail.imgs,"list-type":"picture-card","on-preview":e.doPreview}},[a("i",{staticClass:"el-icon-plus"})])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.doCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doConfirm}},[e._v("确 定")])],1)],1),a("Preview",{attrs:{"is-show":e.showPreview,list:e.previewList,index:e.previewIndex},on:{"update:isShow":function(t){e.showPreview=t},"update:is-show":function(t){e.showPreview=t}}})],1)},f=[],b=a("7ffc"),h=m["a"].FARMING,g=Object(p["a"])(h).mapState,v="$store.state.".concat(h,".plant.detail.imgs"),w={name:"farmPlant-detail",components:{Preview:b["a"]},computed:Object(r["a"])({},g(["plant","detailFormVisible"])),watch:Object(s["a"])({},v,function(){this.refreshPics()}),created:function(){},data:function(){return{disabledStatus:!0,uploadAction:"/api/upload",showPreview:!1,previewList:[],previewIndex:0,pics:[]}},methods:{doCancel:function(){var e=this;e.doClose()},doConfirm:function(){var e=this;e.doClose()},refreshPics:function(){var e=this;e.$store.state[h].plant.detail;e.pics=this.plant.detail.imgs,e.previewList=[],this.getImageSize(0)},doPreview:function(e){var t=this;t.previewIndex=0;for(var a=0;a<t.previewList.length;a++)if(t.previewList[a].src==e.url){t.previewIndex=a;break}t.showPreview=!0},getImageSize:function(e){var t=this,a=t.pics[e],l=new Image;l.onload=function(){t.previewList.push({src:a.url,w:this.width,h:this.height}),e<t.pics.length-1&&t.getImageSize(e+1)},l.src=a.url},doClose:function(){this.$store.commit(h+"/"+c["a"].TECHNOLOGY_SWITCH_DETAIL_DIALOG,!1)}}},x=w,k=(a("bd3b"),a("17cc")),$=Object(k["a"])(x,u,f,!1,null,null,null),C=$.exports,S=m["a"].FARMING,L=Object(p["a"])(S).mapState,_="$store.state.".concat(S,".plant.dataList"),I={name:"farming-plant-page",components:{VillageTownSelector:d["a"],Detail:C},computed:Object(r["a"])({},L(["plant"])),data:function(){return{searchValue:"",selectValue:"",timeValue:"",dialogFormVisible:!1,formLabelWidth:"120px",form:{},villageSelector:[],loading:"加载中",currentPage:1}},watch:Object(s["a"])({},_,function(){this.refreshUrl()}),created:function(){this.$store.commit(c["a"].SWITCH_LOADING,!1);var e=this,t=e.$store,a=e.$route,l=a.query,i={};i.currentPage=o()(l.page||1),i.currentPageSize=o()(l.size||20),t.dispatch(S+"/"+c["a"].FARMING_GET_PLANT_DATA,i)},methods:{showDetail:function(e,t){this.$store.dispatch(S+"/"+c["a"].FARMING_GET_PLANTDETAIL_DATA)},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))},getIndex:function(e){return e+1},doVillageSelectorChange:function(){},refreshUrl:function(){var e=this;e.$router.replace({name:"farming-plant",query:{page:e.plant.currentPage,size:e.plant.currentPageSize}}),console.log(this.plant)}}},P=I,V=(a("0095"),Object(k["a"])(P,l,i,!1,null,null,null));t["default"]=V.exports}}]);