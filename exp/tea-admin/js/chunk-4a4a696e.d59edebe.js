(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a4a696e"],{"0195":function(e,t,a){a("b0e1"),e.exports=a("836e").Array.isArray},"45ef":function(e,t,a){},"50cd":function(e,t,a){"use strict";var l=a("4cf4"),r=a("0763");e.exports=function(e,t,a){t in e?l.f(e,t,r(0,a)):e[t]=a}},7344:function(e,t,a){"use strict";var l=a("45ef"),r=a.n(l);r.a},"7a04":function(e,t,a){},"8af1":function(e,t,a){"use strict";var l=a("8232"),r=a("471d"),i=a("7182"),n=a("44a7"),s=a("33ef"),o=a("3202"),c=a("50cd"),d=a("0811");r(r.S+r.F*!a("1969")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,r,u,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:void 0,b=void 0!==g,m=0,v=d(p);if(b&&(g=l(g,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(t=o(p.length),a=new f(t);t>m;m++)c(a,m,b?g(p[m],m):p[m]);else for(u=v.call(p),a=new f;!(r=u.next()).done;m++)c(a,m,b?n(u,g,[r.value,m],!0):r.value);return a.length=m,a}})},"8eec":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page technology-page"},[a("div",{staticClass:"plane"},[e._m(0),a("div",{staticClass:"plane-content padding"},[a("el-row",{staticClass:"search",attrs:{type:"flex"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),a("VillageTownSelector",{attrs:{"curr-selector":e.villageSelector},on:{change:e.doVillageSelectorChange}}),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.search}},[e._v("搜索")])],1),a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList,border:"",stripe:"","element-loading-text":"数据加载中...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[a("el-table-column",{attrs:{label:"序号",width:"90",type:"index",align:"center",index:e.getIndex}}),a("el-table-column",{attrs:{prop:"gardenName",label:"茶园名称"}}),a("el-table-column",{attrs:{prop:"address",label:"茶园基地"}}),a("el-table-column",{attrs:{prop:"time",width:"150",label:"作业时间"}}),a("el-table-column",{attrs:{prop:"workMen",width:"150",label:"作业人"}}),a("el-table-column",{attrs:{prop:"machining",width:"120",label:"加工名称"}}),a("el-table-column",{attrs:{prop:"type",width:"120",label:"作业方式"}}),a("el-table-column",{attrs:{width:"120",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{on:{click:function(a){return e.showDetail(t.$index,t.row)}}},[e._v("详情")])]}}])})],1)],1),a("Detail"),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[20,40,60,100],"page-size":e.currentPageSize,layout:"total, sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentPageChange}})],1)])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plane-title"},[a("h3",[e._v("制茶工艺")])])}],i=(a("98c9"),a("f91a"),a("5fa9")),n=a.n(i),s=(a("aaa4"),a("d4fd")),o=a("a98d"),c=a("0706"),d=a("eb57"),u=a("52c1"),p=a("84c8"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"茶园详情",visible:e.detailFormVisible},on:{close:e.doClose}},[a("el-form",{attrs:{model:e.detail,"label-width":"85px","label-position":"right"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园名称："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.gardenName,callback:function(t){e.$set(e.detail,"gardenName",t)},expression:"detail.gardenName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业人："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.owner,callback:function(t){e.$set(e.detail,"owner",t)},expression:"detail.owner"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶园基地："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.address,callback:function(t){e.$set(e.detail,"address",t)},expression:"detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号码："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.tel,callback:function(t){e.$set(e.detail,"tel",t)},expression:"detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"茶叶品种："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.address,callback:function(t){e.$set(e.detail,"address",t)},expression:"detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业时间："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.tel,callback:function(t){e.$set(e.detail,"tel",t)},expression:"detail.tel"}})],1)],1)],1),a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业等级："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.address,callback:function(t){e.$set(e.detail,"address",t)},expression:"detail.address"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作业方式："}},[a("el-input",{attrs:{disabled:e.disabledStatus},model:{value:e.detail.tel,callback:function(t){e.$set(e.detail,"tel",t)},expression:"detail.tel"}})],1)],1)],1),a("el-upload",{staticClass:"disable-upload",attrs:{action:e.uploadAction,disabled:!0,"file-list":e.detail.gardenPics,"list-type":"picture-card","on-preview":e.doPreview}},[a("i",{staticClass:"el-icon-plus"})])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.doCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doConfirm}},[e._v("确 定")])],1)],1),a("Preview",{attrs:{"is-show":e.showPreview,list:e.previewList,index:e.previewIndex},on:{"update:isShow":function(t){e.showPreview=t},"update:is-show":function(t){e.showPreview=t}}})],1)},h=[],g=a("b09e"),b=a("7ffc"),m=c["a"].TECHNOLOGY,v=Object(u["a"])(m).mapState,w=("$store.state.".concat(m,".detail.propertyRightPics"),"$store.state.".concat(m,".detail.gardenPics")),x={name:"technology-detail",components:{Preview:b["a"]},computed:Object(o["a"])({},v(["detail","detailFormVisible"])),watch:Object(s["a"])({},w,function(){this.refreshPics()}),data:function(){return{disabledStatus:!0,uploadAction:"/api/upload",showPreview:!1,previewList:[],previewIndex:0,pics:[]}},methods:{doCancel:function(){var e=this;e.doClose()},doConfirm:function(){var e=this;e.doClose()},refreshPics:function(){var e=this,t=e.$store.state[m].detail;e.pics=[].concat(Object(g["a"])(t.propertyRightPics),Object(g["a"])(t.gardenPics)),e.previewList=[],e.getImageSize(0)},doPreview:function(e){var t=this;t.previewIndex=0,console.log("that.previewList......",t.previewList);for(var a=0;a<t.previewList.length;a++)if(t.previewList[a].src==e.url){t.previewIndex=a;break}t.showPreview=!0},getImageSize:function(e){var t=this,a=t.pics[e],l=new Image;l.onload=function(){t.previewList.push({src:a.url,w:this.width,h:this.height}),e<t.pics.length-1&&t.getImageSize(e+1)},l.src=a.url},doClose:function(){this.$store.commit(m+"/"+d["a"].TECHNOLOGY_SWITCH_DETAIL_DIALOG,!1)}}},y=x,S=(a("7344"),a("17cc")),C=Object(S["a"])(y,f,h,!1,null,null,null),P=C.exports,O=c["a"].TECHNOLOGY,k=Object(u["a"])(O).mapState,I="$store.state.".concat(O,".dataList"),L={name:"technology-page",computed:Object(o["a"])({},k(["loading","dataList","currentPage","currentPageSize","total"]),Object(u["c"])(["winHeight"])),components:{VillageTownSelector:p["a"],Detail:P},watch:Object(s["a"])({},I,function(){this.refreshUrl()}),created:function(){var e=this,t=e.$store,a=e.$route,l=a.query;t.commit(d["a"].SWITCH_LOADING,!1),e.search({currentPage:n()(l.page||1),currentPageSize:n()(l.size||20)})},data:function(){return{searchValue:"",timeValue:"",dialogFormVisible:!1,formLabelWidth:"120px",form:{},villageSelector:[],villageName:"",dates:["",""]}},methods:{doVillageSelectorChange:function(e){var t=this;t.villageSelector=e,2==e.length?t.villageName=e[0]+e[1]:t.villageName=""},showDetail:function(e,t){this.$store.dispatch(O+"/"+d["a"].TECHNOLOGY_GET_DETAIL)},refreshUrl:function(){var e=this;e.$router.replace({name:"technology",query:{page:e.currentPage,size:e.currentPageSize,searchValue:e.searchValue?encodeURIComponent(e.searchValue):"",villageName:e.villageName?encodeURIComponent(e.villageName):"",startDates:e.dates[0]?encodeURIComponent(e.dates[0]):"",endDates:e.dates[1]?encodeURIComponent(e.dates[1]):""}})},getIndex:function(e){return(this.currentPage-1)*this.currentPageSize+e+1},handleSizeChange:function(e){this.search({currentPage:1,currentPageSize:e})},handleCurrentPageChange:function(e){this.search({currentPage:e})},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.searchValue=this.searchValue.trim(),e.villageName=this.villageName,e.dates=this.dates,this.$store.dispatch(O+"/"+d["a"].TECHNOLOGY_GET_DATA_LIST,e)}}},$=L,_=(a("a061"),Object(S["a"])($,l,r,!1,null,null,null));t["default"]=_.exports},"92dd":function(e,t,a){a("4d6c"),a("8af1"),e.exports=a("836e").Array.from},"97b2":function(e,t,a){var l=a("419b"),r=a("0902")("iterator"),i=a("9191");e.exports=a("836e").isIterable=function(e){var t=Object(e);return void 0!==t[r]||"@@iterator"in t||i.hasOwnProperty(l(t))}},"98c9":function(e,t,a){"use strict";a("3b80")("trim",function(e){return function(){return e(this,3)}})},a061:function(e,t,a){"use strict";var l=a("7a04"),r=a.n(l);r.a},a945:function(e,t,a){a("98be"),a("4d6c"),e.exports=a("97b2")},b09e:function(e,t,a){"use strict";var l=a("b337"),r=a.n(l);function i(e){if(r()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var n=a("f0b9"),s=a.n(n),o=a("e999"),c=a.n(o);function d(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return s()(e)}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(e){return i(e)||d(e)||u()}a.d(t,"a",function(){return p})},b0e1:function(e,t,a){var l=a("471d");l(l.S,"Array",{isArray:a("5fdf")})},b337:function(e,t,a){e.exports=a("0195")},e999:function(e,t,a){e.exports=a("a945")},f0b9:function(e,t,a){e.exports=a("92dd")}}]);