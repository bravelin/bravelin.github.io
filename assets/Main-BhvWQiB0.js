import{_ as x,c as T,f as t,y as _,n as y,r as i,b as g,u as R,o as C}from"./index-CxcENImR.js";const S={setup(){const d=R(),e=i(null),a=i(!1);let o=null,r=!1,n=!1;const c=i("https://czc-tiles.obs.cn-east-3.myhuaweicloud.com/oms/001.mp4"),u=async()=>{const f={video:{cursor:"always"},audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}},h=await navigator.mediaDevices.getDisplayMedia(f),b={mimeType:"video/webm;codecs=vp9"};o=new MediaRecorder(h,b);const p=[];o.ondataavailable=l=>{l.data.size>0&&p.push(l.data)},o.onstart=()=>{e.value.play(),setTimeout(()=>{a.value=!0},1200)},o.onstop=()=>{const l=new Blob(p,{type:"video/webm"}),w=URL.createObjectURL(l),s=document.createElement("a");s.href=w,s.download=`screen_recording_${Date.now()}.webm`,document.body.appendChild(s),s.click(),document.body.removeChild(s)},o.start()},v=()=>{n?o.stop():u(),n=!n},m=()=>{r?(e.value.play(),setTimeout(()=>{a.value=!0},4200)):u()};return g(()=>{r=d.query.t==1}),{videoUrl:c,thisVideo:e,showTextLayer:a,doInit:m,doStartOrEnd:v}}},V={class:"_page other-video-page"},k={class:"video-container",style:{opacity:"0"}},L=["src"];function M(d,e,a,o,r,n){return C(),T("div",V,[t("div",k,[t("video",{ref:"thisVideo",autoplay:"",src:o.videoUrl},null,8,L),e[1]||(e[1]=_('"> ',-1))]),t("div",{class:y(["text-layer",{active:!o.showTextLayer}])},[...e[2]||(e[2]=[t("h1",null,"聪明的宝子耐心看下去",-1)])],2),t("div",{class:y(["text-layer",{active:o.showTextLayer}])},[...e[3]||(e[3]=[t("h1",null,"Yu Tong",-1),t("h2",null,"这儿法不了文件",-1),t("h3",null,"v：yyt69358",-1)])],2),t("button",{onClick:e[0]||(e[0]=c=>o.doStartOrEnd())},"开始/结束"),e[4]||(e[4]=t("div",{class:"spec"},[t("div",null,[t("h2",{"data-content":"+V"},"+V"),t("h2",{"data-content":"yyt69358"},"yyt69358")])],-1))])}const E=x(S,[["render",M]]);export{E as default};
