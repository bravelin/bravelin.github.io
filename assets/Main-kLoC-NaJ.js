import{_ as D,k as S,l as b,r as y,a as j,c as i,e as s,F as _,i as x,o as u,j as g}from"./index-D4s4RR1C.js";const $={setup(){const p=S(),t=b(),d=y([]),o=[];for(let l=2014;l<=2025;l++)o.push(l);const v=new Date().getFullYear(),k=y(o),e=y(v-1),a=async()=>{t.isShow=!0;const l=await fetch(`./datas/nightReading/${e.value}.json`).then(n=>n.json()),r={};let m="",w="",c="";l.forEach(n=>{m=n.updateTime.slice(0,4),w=n.updateTime.slice(5,7),c=m+w,r[c]||(r[c]=[]),r[c].push(n)}),d.value=Object.keys(r).map(n=>(r[n].sort((h,Y)=>h.updateTime>Y.updateTime?-1:1),{ym:n,year:n.slice(0,4),month:n.slice(4,6),list:r[n]})),d.value.sort((n,h)=>n.ym>h.ym?-1:1),t.isShow=!1},f=()=>{if(e.value==2014)return p.warning("没有上一年文章了！");e.value=e.value-1,a()},T=()=>{if(e.value==v)return p.warning("没有下一年文章了！");e.value=e.value+1,a()};return j(()=>{a()}),{noteDatas:d,curr:e,yearList:k,doPrevYear:f,doNextYear:T}}},B={class:"_page night-reading-page"},F={class:"note-list"},N={class:"item-list"},C=["href"];function E(p,t,d,o,v,k){return u(),i(_,null,[s("div",B,[s("ul",F,[(u(!0),i(_,null,x(o.noteDatas,e=>(u(),i("li",{key:e.year},[s("strong",null,g(e.year)+"年"+g(e.month)+"月",1),s("div",N,[(u(!0),i(_,null,x(e.list,(a,f)=>(u(),i("a",{key:f,href:a.link,target:"_blank"},[s("span",null,g(a.title),1),t[2]||(t[2]=s("i",null,null,-1)),s("span",null,g(a.updateTime.slice(0,10)),1)],8,C))),128))])]))),128))])]),s("div",{onClick:t[0]||(t[0]=e=>o.doPrevYear()),class:"_right-nav-btn night-reading-prev-year",title:"上一年"},t[3]||(t[3]=[s("i",{class:"iconfont"},"",-1)])),s("div",{onClick:t[1]||(t[1]=e=>o.doNextYear()),class:"_right-nav-btn night-reading-next-year",title:"下一年"},t[4]||(t[4]=[s("i",{class:"iconfont"},"",-1)]))],64)}const P=D($,[["render",E]]);export{P as default};
