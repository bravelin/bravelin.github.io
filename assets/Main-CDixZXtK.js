import{_ as b,p as D,q as S,r as y,b as $,c as i,f as s,F as _,k as x,o as u,m as g}from"./index-Dav9PDu2.js";const j={setup(){const p=D(),e=S(),d=y([]),o=[];for(let l=2014;l<=2025;l++)o.push(l);const v=new Date().getFullYear(),k=y(o),t=y(v),a=async()=>{e.isShow=!0;const l=await fetch(`./datas/nightReading/${t.value}.json`).then(n=>n.json()),r={};let m="",w="",c="";l.forEach(n=>{m=n.updateTime.slice(0,4),w=n.updateTime.slice(5,7),c=m+w,r[c]||(r[c]=[]),r[c].push(n)}),d.value=Object.keys(r).map(n=>(r[n].sort((h,Y)=>h.updateTime>Y.updateTime?-1:1),{ym:n,year:n.slice(0,4),month:n.slice(4,6),list:r[n]})),d.value.sort((n,h)=>n.ym>h.ym?-1:1),e.isShow=!1},f=()=>{if(t.value==2014)return p.warning("没有上一年文章了！");t.value=t.value-1,a()},T=()=>{if(t.value==v)return p.warning("没有下一年文章了！");t.value=t.value+1,a()};return $(()=>{a()}),{noteDatas:d,curr:t,yearList:k,doPrevYear:f,doNextYear:T}}},B={class:"_page night-reading-page"},F={class:"note-list"},N={class:"item-list"},C=["href"];function E(p,e,d,o,v,k){return u(),i(_,null,[s("div",B,[s("ul",F,[(u(!0),i(_,null,x(o.noteDatas,t=>(u(),i("li",{key:t.ym},[s("strong",null,g(t.year)+"年"+g(t.month)+"月",1),s("div",N,[(u(!0),i(_,null,x(t.list,(a,f)=>(u(),i("a",{key:f,href:a.link,target:"_blank"},[s("span",null,g(a.title),1),e[2]||(e[2]=s("i",null,null,-1)),s("span",null,g(a.updateTime.slice(0,10)),1)],8,C))),128))])]))),128))])]),s("div",{onClick:e[0]||(e[0]=t=>o.doPrevYear()),class:"_right-nav-btn night-reading-prev-year",title:"上一年"},e[3]||(e[3]=[s("i",{class:"iconfont"},"",-1)])),s("div",{onClick:e[1]||(e[1]=t=>o.doNextYear()),class:"_right-nav-btn night-reading-next-year",title:"下一年"},e[4]||(e[4]=[s("i",{class:"iconfont"},"",-1)]))],64)}const P=b(j,[["render",E]]);export{P as default};
