webpackJsonp([40],{mCIm:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("wKTW"),i=e("vbKY"),s={data:function(){return{allComments:!0,delCommentId:""}},created:function(){n.a.$on("pop-confirm-del-modal",this.doShowConfirmModal)},beforeDestroy:function(){n.a.$off("pop-confirm-del-modal",this.doShowConfirmModal)},methods:{doDel:function(){var t=this,o=+new Date,e=i.a,s=e.sha(e.appKey+o)+"."+o;t.$http.delete("https://d.apicloud.com/mcm/api/comments/"+t.delCommentId,{headers:{"X-APICloud-AppKey":s}}).then(function(o){200==o.status&&(n.a.$emit("refresh-comments"),e.tipShow("删除成功！"),t.doCloseConfirmModal())})},doShowConfirmModal:function(t){this.delCommentId=t,console.log("commentId："+t);var o=this.$refs.confirmModal;o.style.display="block",setTimeout(function(){o.classList.add("active")},200)},doCloseConfirmModal:function(){var t=this.$refs.confirmModal;t.classList.remove("active"),setTimeout(function(){t.style.display="none"},600)}}},a={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"page"},[e("Comments",{attrs:{"query-article":!t.allComments}}),t._v(" "),e("div",{ref:"confirmModal",staticClass:"modal confirm-del-comment"},[e("div",[e("h3",[t._v("确认"),e("span",{on:{click:function(o){t.doCloseConfirmModal()}}},[t._v("X")])]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"footer"},[e("a",{staticClass:"ok",on:{click:function(o){t.doDel()}}},[t._v("确定")]),t._v(" "),e("a",{staticClass:"cancel",on:{click:function(o){t.doCloseConfirmModal()}}},[t._v("取消")])]),t._v(" "),t._m(1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"content"},[o("div",[this._v("确定要删除这条评论？")])])},function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"page-mask"},[o("div",[o("i"),o("i"),o("i"),o("i"),o("i")])])}]},l=e("rAbc")(s,a,!1,null,null,null);o.default=l.exports}});